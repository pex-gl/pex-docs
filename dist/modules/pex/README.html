
  <html>
  <head>
  <link rel="stylesheet" href="../../assets/github-markdown.css">
  <link rel="stylesheet" href="../../assets/github.css">
  <style>
    .markdown-body {
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      padding: 45px;
    }

    @media (max-width: 767px) {
      .markdown-body {
        padding: 15px;
      }
    }

  </style>
  </head>
  <body class="markdown-body">
  <h1><a name="pex"></a>Pex</h1>
<p>Pex is a javascript 3d library / engine allowing for seamless development between Plask and WebGL in the browser.</p>
<p><img src="assets/pex.jpg" alt="Pex" /></p>
<h2><a name="introduction"></a>Introduction</h2>
<h3><a name="what-is-pex-"></a>What is pex?</h3>
<p>Pex (plask extentions) is a collection of JavaScript modules the combination of which becomes a powerful 3D graphics library for the desktop and the web.</p>
<p>There are a few main points you need to understand to grok what Pex is all about:</p>
<ol>
<li>
<p>Pex is originally based on <a href="http://plask.org">Plask</a>. Plask is a JavaScript multimedia programming environment for the desktop. Plask is a magical bridge between your favourite JavaScript world and a collection of C++ libraries for 3D graphics, audio and video playback and others.
But Plask, essentially, is a node.js program - meaing...</p>
</li>
<li>
<p>Pex is node.js code, too. You download the modules from npm, require them and you write 3D code. Naturally, you can use any other module from the enormous npm ecosystem in your program.</p>
</li>
<li>
<p>As aforementioned Plask runs as a desktop application. Pex extends it to the web using by abstracting application window and WebGL context creation. In other words, you can run your Pex program as a standalone desktop application or directly in a browser that supports WebGL. No changes in the code whatsoever. To top the cake, you can run it on iOS below version 8.0 using <a href="https://github.com/phoboslab/ejecta">Ejecta</a>.</p>
</li>
<li>
<p>And finally, to answer your question - yes, Pex could be considered an alternative to Three.js. We are big fans of Three but we believe that every software or library should have an alternative. If you want to write WebGL, it should not mean you must use Three. Variety in every ecosystem is vital. We will expand on the technical differences later.</p>
</li>
</ol>
<h3><a name="how-to-use"></a>How to use</h3>
<p>This seems like a lot of text but don't be scared! I'ts really easy, especially if you have Node.js and npm installed.</p>
<ol>
<li>
<p>As you already know, Pex uses Plask to run as a desktop application. To do this you will need to download Plask from here: <a href="http://www.plask.org/">http://www.plask.org/</a>. Plask is an awesome project so be sure to check out the source: <a href="https://github.com/deanm/plask">https://github.com/deanm/plask</a>.</p>
</li>
<li>
<p>You will need to install Node.js and npm. If you already have them - skip to the next step. Otherwise go to <a href="http://nodejs.org/">http://nodejs.org/</a> for further instructions on how to install Node.js on your machine.</p>
</li>
<li>
<p>There are a few ways to get pex up and running. All of the pex modules are on npm so you could for example install them one by one or put them in your package.json. You could also do:</p>
<pre><code> $ npm install pex
</code></pre>
<p>which installs everything neceserry to run pex, generate new projects and documentation files.</p>
<p>The next step would be to run:</p>
<pre><code> $ pex init --help
</code></pre>
<p>to list all options so you choose and run what you want or just:</p>
<pre><code> $ pex init exampleApp
 $ cd exampleApp
 $ npm install
</code></pre>
<p>Now all you have to do is either run:</p>
<pre><code> $ npm start
</code></pre>
<p>which launches a new browser tab with the example app and watches for changes in <strong>main.js</strong> (where your pex program is) or you run <strong>main.js</strong> in Plask. You can open the <strong>index.html</strong> document manually and while that would work just fine since your Pex source code needs to be browserified changing <strong>main.js</strong> and saving wouldn't change what you see.</p>
<p>This is just for development testing. Once you happy with your code and want to build final version you run:</p>
<pre><code> $ npm run build
</code></pre>
</li>
<li>
<p>Play around with the example! If you made it this far all you need to do now is dive into the amazing world of 3D graphics. The example app is a basic cube. But Pex comes with a lot more awesome examples so try them all out, copy pasta some code to make some neat stuff and dive into the docs.</p>
</li>
</ol>
<h3><a name="technical-differences-with-three-js"></a>Technical differences with Three.js</h3>
<p>ThreeJS is focusing on simplifying your experience with WebGL by hiding the hard parts and exposing an API that's easy to start with. It has better community support, better tools import/export support and it's well tested, solid code that you can confortably use for your production projects.</p>
<p>Pex has different goals in mind. It's simplifying coding but there is more boilerplate code to be written with aim to give you more controll over what and when is happening. While ThreeJS is targetting browsers, Pex primary target is Plask. It is written in a way that works in any WebGL capable browser out of the box and even on iOS with Ejecta. Pex is written in a modular way with CommonJS module format (the same as used in node.js libraries), ThreeJS is namespacing everything inside global Three object.</p>
<h2><a name="community"></a>Community</h2>
<h3><a name="contact-and-info"></a>Contact and info</h3>
<ol>
<li>We love github issues! <a href="http://github.com/pex-gl/pex/issues">http://github.com/pex-gl/pex/issues</a></li>
<li>Follow <a href="http://twitter.com/marcinignac">@marcinignac</a> on twitter</li>
</ol>
<h3><a name="main-contributors"></a>Main contributors</h3>
<p><a href="https://github.com/vorg/">Marcin Ignac</a> - main library code<br />
<a href="https://github.com/automat/">Henryk Wollik</a> - main library code rewrite<br />
<a href="https://github.com/nicknikolov">Nick Nikolov</a> - big part of v3 node modules rewrite, geom library contributions<br />
<a href="https://github.com/szymonkaliski">Szymon Kaliski</a> - various build scripts improvements, examples contributor<br />
<a href="https://github.com/deanm">Dean McNamee</a> - author of Plask and core math code in pex</p>
<h2><a name="projects-showcase"></a>Projects showcase</h2>
<p><a href="http://variable.io/fibers/">Fibers</a> - data driven artwork
<img src="assets/project-fibers.jpg" alt="Fibers" /></p>
<p><a href="http://variable.io/flora/">Flora</a> - generative educational app
<img src="assets/project-flora.jpg" alt="Flora" /></p>
<p><a href="http://variable.io/digital-type-wall/">Digital Type Wall</a> - generative typograpy installation
<img src="assets/project-monotype.jpg" alt="Flora" /></p>
<p>And more:</p>
<p><a href="http://variable.io/">http://variable.io/</a> (All WebGL projects)<br />
<a href="http://marcinignac.com/experiments/technology/webgl/">http://marcinignac.com/experiments/technology/webgl/</a><br />
<a href="http://marcinignac.com/projects/technology/webgl/">http://marcinignac.com/projects/technology/webgl/</a><br />
<a href="http://www.flickr.com/photos/marcinignac/sets/72157629801608107/">http://www.flickr.com/photos/marcinignac/sets/72157629801608107/</a></p>
<h2><a name="reference-guide"></a>Reference guide</h2>
<h3><a name="how-to-use-pex-in-plask-"></a>How to use Pex in Plask?</h3>
<p><em>Node: Plask is currently available only for OSX. If you are on Windows or Linux please jump to the next section <a href="#how-to-use-pex-in-a-web-browser">How to use Pex in a web browser?</a></em></p>
<ol>
<li>
<p>Download <a href="http://plask.org">Plask</a>.</p>
</li>
<li>
<p>Unpack .DMG and move <strong>PlaskLauncher.app</strong> to your <code>Applications</code> folder</p>
</li>
<li>
<p>Install <a href="http://node.js">node.js</a>.</p>
</li>
<li>
<p>Run the following commands in the terminal to install pex.</p>
<pre><code> npm install -g pex
</code></pre>
</li>
<li>
<p>Create your pex project.</p>
<pre><code> cd path/to/your/workspace/folder/
 pex init myFirstProject
</code></pre>
</li>
<li>
<p>Install dependencies.</p>
<pre><code> cd myFirstProject
 npm install
 npm run build
</code></pre>
</li>
<li>
<p>Open <strong>PlaskLauncher.app</strong>, click <code>File-&gt;Open</code> and choose generated <code>myFirstProject/main.js</code> file.</p>
</li>
<li>
<p>You should see a colorful cube. Drag your mouse to rotate it.</p>
<p><img src="assets/basic-plask.png" alt="Pex in the browser" /></p>
</li>
</ol>
<h3><a name="how-to-use-pex-in-a-web-browser-"></a>How to use Pex in a web browser?</h3>
<ol>
<li>
<p>Install <a href="http://node.js">node.js</a>.</p>
</li>
<li>
<p>Run the following commands in the terminal to install pex.</p>
<pre><code> npm install -g pex
</code></pre>
</li>
<li>
<p>Create your pex project.</p>
<pre><code> cd path/to/your/workspace/folder/
 pex init myFirstProject
</code></pre>
</li>
<li>
<p>Install dependencies.</p>
<pre><code> cd myFirstProject
 npm install
</code></pre>
</li>
<li>
<p>Start compilation.</p>
<pre><code> npm start
</code></pre>
</li>
<li>
<p>The <code>start</code> command should open a browser window and reload every time you make changes to <code>main.js</code> if not, click <code>myFirstProject/index.html</code></p>
</li>
<li>
<p>You should see a colorful cube. Drag your mouse to rotate it.</p>
<p><img src="assets/basic-browser.png" alt="Pex in the browser" /></p>
</li>
</ol>
<h3><a name="basic-pex-example"></a>Basic Pex Example</h3>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> Window          = <span class="hljs-built_in">require</span>(<span class="hljs-string">'pex-sys/Window'</span>);
<span class="hljs-keyword">var</span> createCube      = <span class="hljs-built_in">require</span>(<span class="hljs-string">'primitive-cube'</span>);
<span class="hljs-keyword">var</span> PerspCamera     = <span class="hljs-built_in">require</span>(<span class="hljs-string">'pex-cam/PerspCamera'</span>);
<span class="hljs-keyword">var</span> Arcball         = <span class="hljs-built_in">require</span>(<span class="hljs-string">'pex-cam/Arcball'</span>);
<span class="hljs-keyword">var</span> glslify         = <span class="hljs-built_in">require</span>(<span class="hljs-string">'glslify-promise'</span>);
<span class="hljs-keyword">var</span> isBrowser       = <span class="hljs-built_in">require</span>(<span class="hljs-string">'is-browser'</span>);

Window.create({
    settings: {
        width:  <span class="hljs-number">1280</span>,
        height: <span class="hljs-number">720</span>,
        fullScreen: isBrowser ? <span class="hljs-literal">true</span> : <span class="hljs-literal">true</span>
    },
    resources: {
        showNormalsVert: { glsl: glslify(__dirname + <span class="hljs-string">'/assets/ShowNormals.vert'</span>) },
        showNormalsFrag: { glsl: glslify(__dirname + <span class="hljs-string">'/assets/ShowNormals.frag'</span>) },
    },
    init: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ctx = <span class="hljs-keyword">this</span>.getContext();
        <span class="hljs-keyword">var</span> res = <span class="hljs-keyword">this</span>.getResources();

        <span class="hljs-keyword">this</span>.camera  = <span class="hljs-keyword">new</span> PerspCamera(<span class="hljs-number">45</span>,<span class="hljs-keyword">this</span>.getAspectRatio(),<span class="hljs-number">0.001</span>,<span class="hljs-number">20.0</span>);
        <span class="hljs-keyword">this</span>.camera.lookAt([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]);
        ctx.setProjectionMatrix(<span class="hljs-keyword">this</span>.camera.getProjectionMatrix());

        <span class="hljs-keyword">this</span>.arcball = <span class="hljs-keyword">new</span> Arcball(<span class="hljs-keyword">this</span>.camera, <span class="hljs-keyword">this</span>.getWidth(), <span class="hljs-keyword">this</span>.getHeight());
        <span class="hljs-keyword">this</span>.arcball.setDistance(<span class="hljs-number">5.0</span>);
        <span class="hljs-keyword">this</span>.addEventListener(<span class="hljs-keyword">this</span>.arcball);

        <span class="hljs-keyword">this</span>.showNormalsProgram = ctx.createProgram(res.showNormalsVert, res.showNormalsFrag);
        ctx.bindProgram(<span class="hljs-keyword">this</span>.showNormalsProgram);

        <span class="hljs-keyword">var</span> cube = createCube();
        <span class="hljs-keyword">var</span> cubeAttributes = [
            { data: cube.positions, location: ctx.ATTRIB_POSITION },
            { data: cube.normals, location: ctx.ATTRIB_NORMAL }
        ];
        <span class="hljs-keyword">var</span> cubeIndices = { data: cube.cells };
        <span class="hljs-keyword">this</span>.cubeMesh = ctx.createMesh(cubeAttributes, cubeIndices, ctx.TRIANGLES);
    },
    draw: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ctx = <span class="hljs-keyword">this</span>.getContext();

        <span class="hljs-keyword">this</span>.arcball.apply();
        ctx.setViewMatrix(<span class="hljs-keyword">this</span>.camera.getViewMatrix());

        ctx.setClearColor(<span class="hljs-number">0.2</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">1</span>);
        ctx.clear(ctx.COLOR_BIT | ctx.DEPTH_BIT);
        ctx.setDepthTest(<span class="hljs-literal">true</span>);

        ctx.bindProgram(<span class="hljs-keyword">this</span>.showNormalsProgram);
        ctx.bindMesh(<span class="hljs-keyword">this</span>.cubeMesh);
        ctx.drawMesh();

    }
})

</code></pre>
<h3><a name="html-file-structure"></a>HTML File Structure</h3>
<pre><code class="lang-HTML"><span class="hljs-doctype">&lt;!doctype html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span> <span class="hljs-attribute">lang</span>=<span class="hljs-value">&quot;en&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">&quot;UTF-8&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Pex example<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&quot;text/javascript&quot;</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">&quot;main.web.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<h2><a name="pex-command-line-reference"></a>Pex command line reference</h2>
<h3><a name="installation"></a>Installation</h3>
<p>First install the script using npm:</p>
<pre><code>npm install -g pex
</code></pre>
<p>If that fails then your permissions might not be enough so try:</p>
<pre><code>sudo npm install -g pex
</code></pre>
<p>You will be asked to enter your password and things should go smoothly after that.</p>
<h3><a name="usage-"></a>Usage:</h3>
<pre><code>pex init projectName [options]
</code></pre>
<h3><a name="options-"></a>Options:</h3>
<pre><code>-h, --help     output usage information
-V, --version  output the version number
-f, --force    force on non-empty directory
</code></pre>

  </body>
  </html>
  